<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<title>SEIMS: seims.preprocess.db_import_observed.ImportObservedData类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygenextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="topbanner"><a href="https://github.com/lreis2415/SEIMS" title="SEIMS GitHub"><i class="githublogo"></i></a></div>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'搜索','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classseims_1_1preprocess_1_1db__import__observed_1_1_import_observed_data.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">静态 Public 成员函数</a> &#124;
<a href="classseims_1_1preprocess_1_1db__import__observed_1_1_import_observed_data-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">seims.preprocess.db_import_observed.ImportObservedData类 参考</div></div>
</div><!--header-->
<div class="contents">

<p>继承自 object .</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
静态 Public 成员函数</h2></td></tr>
<tr class="memitem:ac54fd0caa302dac9789a14525cc0f8c7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseims_1_1preprocess_1_1db__import__observed_1_1_import_observed_data.html#ac54fd0caa302dac9789a14525cc0f8c7">match_subbasin</a> (subbsn_file, site_dict, maindb)</td></tr>
<tr class="separator:ac54fd0caa302dac9789a14525cc0f8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2648a15ae458a3acd361ec14dbf904b6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseims_1_1preprocess_1_1db__import__observed_1_1_import_observed_data.html#a2648a15ae458a3acd361ec14dbf904b6">data_from_txt</a> (maindb, hydro_clim_db, obs_txts_list, sites_info_txts_list, subbsn_file)</td></tr>
<tr class="separator:a2648a15ae458a3acd361ec14dbf904b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c51bec04df4d3357a29b42357986b3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseims_1_1preprocess_1_1db__import__observed_1_1_import_observed_data.html#a08c51bec04df4d3357a29b42357986b3">workflow</a> (cfg)</td></tr>
<tr class="separator:a08c51bec04df4d3357a29b42357986b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><pre class="fragment">Import observed values for current model. The procedure including several steps:
    1. Read monitor station information, filter by LocalX and LocalY coordinates,
       and store variables information (siteDic) and station IDs (siteIDs)
    2. Read observed data and import to MongoDB
    3. Add observed data with unit converted
</pre> </div><h2 class="groupheader">成员函数说明</h2>
<a id="a2648a15ae458a3acd361ec14dbf904b6" name="a2648a15ae458a3acd361ec14dbf904b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2648a15ae458a3acd361ec14dbf904b6">&#9670;&nbsp;</a></span>data_from_txt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def seims.preprocess.db_import_observed.ImportObservedData.data_from_txt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maindb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hydro_clim_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obs_txts_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sites_info_txts_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subbsn_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Read observed data from txt file
Args:
    maindb: Main spatial database
    hydro_clim_db: hydro-climate dababase
    obs_txts_list: txt file paths of observed data
    sites_info_txts_list: txt file paths of site information
    subbsn_file: subbasin raster file

Returns:
    True or False
</pre> 
</div>
</div>
<a id="ac54fd0caa302dac9789a14525cc0f8c7" name="ac54fd0caa302dac9789a14525cc0f8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac54fd0caa302dac9789a14525cc0f8c7">&#9670;&nbsp;</a></span>match_subbasin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def seims.preprocess.db_import_observed.ImportObservedData.match_subbasin </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subbsn_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>site_dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maindb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Match the ID of subbasin
    1. Read the coordinates of each subbasin's outlet, and
       the outlet ID of the whole basin (not finished yet)
    2. If the isOutlet field equals to
       2.1 - 0, then return the subbasin_id of the site's location
       2.2 - 1, then return the outlet ID of the whole basiin
       2.3 - 2, then return the outlet ID of nearest subbasin
       2.4 - 3, then return the outlet IDs of the conjunct subbasins
</pre> 
</div>
</div>
<a id="a08c51bec04df4d3357a29b42357986b3" name="a08c51bec04df4d3357a29b42357986b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c51bec04df4d3357a29b42357986b3">&#9670;&nbsp;</a></span>workflow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def seims.preprocess.db_import_observed.ImportObservedData.workflow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">This function mainly to import measurement data to MongoDB
data type may include Q (discharge, m3/s), SED (mg/L), TN (mg/L), TP (mg/L), etc.
the required parameters that defined in configuration file (*.ini)
</pre> 
</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>seims/preprocess/db_import_observed.py</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>seims</b></li><li class="navelem"><a class="el" href="namespaceseims_1_1preprocess.html">preprocess</a></li><li class="navelem"><a class="el" href="namespaceseims_1_1preprocess_1_1db__import__observed.html">db_import_observed</a></li><li class="navelem"><a class="el" href="classseims_1_1preprocess_1_1db__import__observed_1_1_import_observed_data.html">ImportObservedData</a></li>
  </ul>
</div>
</body>
</html>
