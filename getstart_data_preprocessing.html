<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<title>SEIMS: Data preprocessing for watershed modeling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygenextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="topbanner"><a href="https://github.com/lreis2415/SEIMS" title="SEIMS GitHub"><i class="githublogo"></i></a></div>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('getstart_data_preprocessing.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Data preprocessing for watershed modeling </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md25">Simple usage</a></li>
<li class="level1"><a href="#autotoc_md26">Configuration file of data preprocessing</a></li>
<li class="level1"><a href="#autotoc_md27">Advanced usage</a></li>
<li class="level1"><a href="#autotoc_md28">Intermediate data of preprocessing</a></li>
<li class="level1"><a href="#autotoc_md29">Structure of the watershed modeling database</a></li>
<li class="level1"><a href="#autotoc_md30">See more...</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_doc_en_get_started_data_preprocessing"></a></p>
<p >Data preprocessing for watershed modeling is a workflow to extract spatial parameters from various spatial data (e.g., DEM, landuse, and soil map), organize plaintext data (e.g., precipitation and meteorological data, site-monitoring data, and BMP scenarios data), and import these data into MongoDB database of the study area.</p>
<p ><b>NOTE for Windows Users</b>: Users should make sure all SEIMS executables (i.e., <code>*.exe</code> files) have been permitted to pass the firewall of Windows. Otherwise, you may encounter the <b>PermissionError</b>. Copy <code>seims\Firewall_for_Windows.bat</code> to <code>bin</code> directory which contains all SEIMS executables. Then, right click the <code>bat</code> file and select to run as administrator.</p>
<h1><a class="anchor" id="autotoc_md25"></a>
Simple usage</h1>
<p >For simple usage, open a terminal (e.g., CMD on Window), enter the following commands to run the data preprocessing of the Youwuzhen watershed: </p><div class="fragment"><div class="line">cd D:\demo\SEIMS\seims\test</div>
<div class="line">D:</div>
<div class="line">python demo_preprocess.py -name youwuzhen</div>
</div><!-- fragment --><p> The end of runtime logs of the data preprocessing was shown in Figure 1.</p>
<p ><img src="../../img/messages-of-simple-usage-of-preprocess.jpg" alt="ywzpreprocessinfo" class="inline"/> <img src="messages-of-simple-usage-of-preprocess.jpg" alt="ywzpreprocessinfo" width="400" class="inline"/></p>
<p >Figure 1 Runtime logs of data preprocessing for watershed modeling of the Youwuzhen watershed</p>
<p >After running the simple usage, the input configuration file for data preprocessing (<code>preprocess.ini</code>) is generated in the directory of intermediate data (i.e., <code>SEIMS\data\youwuzhen\workspace</code>, Figure 2) and the data for watershed modeling has been imported into MongoDB (Figure 3). The details of the configuration file, advanced usage, intermediate data, and watershed modeling databases will be introduced in the following sections.</p>
<p ><img src="../../img/directory-tree-of-intermediate-data-of-preprocessing.jpg" alt="ywzpreprocessinfo" class="inline"/> <img src="directory-tree-of-intermediate-data-of-preprocessing.jpg" alt="ywzpreprocessinfo" width="400" class="inline"/></p>
<p >Figure 2 Directory tree of intermediate data of the Youwuzhen watershed after data preprocessing</p>
<p ><img src="../../img/database-Youwuzhen-30m-longterm.jpg" alt="ywzdb" class="inline"/> <img src="database-Youwuzhen-30m-longterm.jpg" alt="ywzdb" width="400" class="inline"/></p>
<p >Figure 3 Screenshot of the watershed modeling databases of the Youwuzhen watershed</p>
<h1><a class="anchor" id="autotoc_md26"></a>
Configuration file of data preprocessing</h1>
<p >The simple usage of the data preprocessing includes two steps such as generating the configuration file according to the local paths of SEIMS and executing data preprocessing by the advanced usage which will be introduced in the next section.</p>
<p >SEIMS takes the <code>INI</code> file as the format of configuration files. <code>INI</code> files are plain text files with a basic structure composed of sections and options (an option is a pair of property and value). Semicolons (<code>;</code>) or number sign (<code>#</code>) at the beginning of the line indicate a comment which will be ignored. The data preprocessing configuration content of Youwuzhen watershed is as follows: </p><div class="fragment"><div class="line">[PATH]</div>
<div class="line">PREPROC_SCRIPT_DIR = d:\demo\SEIMS\seims\preprocess</div>
<div class="line">CPP_PROGRAM_DIR = d:\demo\SEIMS\bin</div>
<div class="line">MPIEXEC_DIR = None</div>
<div class="line">BASE_DATA_DIR = d:\demo\SEIMS\data\youwuzhen</div>
<div class="line">CLIMATE_DATA_DIR = d:\demo\SEIMS\data\youwuzhen\data_prepare\climate</div>
<div class="line">SPATIAL_DATA_DIR = d:\demo\SEIMS\data\youwuzhen\data_prepare\spatial</div>
<div class="line">MEASUREMENT_DATA_DIR = d:\demo\SEIMS\data\youwuzhen\data_prepare\observed</div>
<div class="line">BMP_DATA_DIR = d:\demo\SEIMS\data\youwuzhen\data_prepare\scenario</div>
<div class="line">MODEL_DIR = d:\demo\SEIMS\data\youwuzhen\demo_youwuzhen30m_longterm_model</div>
<div class="line">TXT_DB_DIR = d:\demo\SEIMS\data\youwuzhen\data_prepare\lookup</div>
<div class="line">WORKING_DIR = d:\demo\SEIMS\data\youwuzhen\workspace</div>
<div class="line">[MONGODB]</div>
<div class="line">HOSTNAME = 127.0.0.1</div>
<div class="line">PORT = 27017</div>
<div class="line">ClimateDBName = demo_youwuzhen30m_HydroClimate</div>
<div class="line">BMPScenarioDBName = demo_youwuzhen30m_Scenario</div>
<div class="line">SpatialDBName = demo_youwuzhen30m_longterm_model</div>
<div class="line">[CLIMATE]</div>
<div class="line">HydroClimateVarFile = Variables.csv</div>
<div class="line">MeteoSiteFile = Sites_M.csv</div>
<div class="line">PrecSiteFile = Sites_P.csv</div>
<div class="line">MeteoDataFile = meteo_daily.csv</div>
<div class="line">PrecDataFile = pcp_daily.csv</div>
<div class="line">thiessenIdField = ID</div>
<div class="line">[SPATIAL]</div>
<div class="line">dem = ywzdem30m.tif</div>
<div class="line">outlet_file = outlet_beijing1954.shp</div>
<div class="line">PrecSitesThiessen = thiessen_pcp.shp</div>
<div class="line">MeteoSitesThiessen = thiessen_meteo.shp</div>
<div class="line">landuseFile = ywzlanduse30m.tif</div>
<div class="line">landcoverInitFile = landcover_initial_parameters.csv</div>
<div class="line">soilSEQNFile = ywzsoil30m.tif</div>
<div class="line">soilSEQNText = soil_properties_lookup.csv</div>
<div class="line">field_partition_thresh = 15</div>
<div class="line">[OPTIONAL_PARAMETERS]</div>
<div class="line">D8AccThreshold = 35</div>
<div class="line">np = 4</div>
<div class="line">D8DownMethod = Surface</div>
<div class="line">dorm_hr = -1.</div>
<div class="line">T_base = 0.</div>
<div class="line">imperviousPercInUrbanCell = 0.3</div>
<div class="line">defaultLanduse = 33</div>
<div class="line">defaultSoil = 201</div>
</div><!-- fragment --><p >The configuration file for data preprocessing, such as that of the Youwuzhen watershed, includes five sections, i.e., <code>PATH</code>, <code>MONGODB</code>, <code>CLIMATE</code>, <code>SPATIAL</code>, and <code>OPTIONAL_PARAMETERS</code>.</p>
<p >Several property-value pairs (i.e., options) are included within each section. The names of sections and properties should not be changed. Note that section and property names are not case sensitive in the Windows implementation.</p>
<ul>
<li><code>PATH</code>: Full paths of executables, data, and intermediate workspace.<ol type="1">
<li><code>PREPROC_SCRIPT_DIR</code>: The path of Python scripts of data preprocessing.</li>
<li><code>CPP_PROGRAM_DIR</code>: The install directory of SEIMS C/C++ applications.</li>
<li><code>MPIEXEC_DIR</code>: The directory path of the MPI executable, i.e., <code>C:\Program Files\Microsoft MPI\Bin</code>. If it has been added to the environment path, the value can be <code>None</code> or commented.</li>
<li><code>BASE_DATA_DIR</code>: The base data directory of the study area.</li>
<li><code>CLIMATE_DATA_DIR</code>: (Optional) The path of climate data which include precipitation data (Section 2:2.3) and meteorological data (Section 2:2.4). If not specified (means the option line is commented), SEIMS will try to find climate data in <code>BASE_DATA_DIR\data_prepare\climate</code>.</li>
<li><code>SPATIAL_DATA_DIR</code>: (Optional) The path of spatial data (Section 2:2.1.1). If not specified, SEIMS will try to find spatial data in <code>BASE_DATA_DIR\data_prepare\spatial</code>.</li>
<li><code>MEASUREMENT_DATA_DIR</code>: (Optional) The path of observed data (Section 2:2.5). If not specified, SEIMS will try to find observed data in <code>BASE_DATA_DIR\data_prepare\observed</code>.</li>
<li><code>BMP_DATA_DIR</code>: (Optional) The path of BMP scenarios data (Section 2:2.7). If not specified, SEIMS will try to find scenario data in <code>BASE_DATA_DIR\data_prepare\scenario</code>.</li>
<li><code>MODEL_DIR</code>: The model path of the study area which includes several configuration files for the watershed modeling. For data preprocessing, the <code>file.in</code> and <code>file.out</code> are required, the calibrated parameters <code>param.cali</code> is optional. Details of the file structure of model folder will be introduced in Section 2:4.2.</li>
<li><code>TXT_DB_DIR</code>: (Optional) The path of additional lookup tables (Section 2:2.6). If not specified, SEIMS will try to find lookup tables in <code>BASE_DATA_DIR\data_prepare\lookup</code>.</li>
<li><code>WORKING_DIR</code>: (Optional) Workspace for intermediate data. If not specified, SEIMS will use the default path of <code>BASE_DATA_DIR\workspace</code>.</li>
</ol>
</li>
<li><code>MONGODB</code>: MongoDB related settings.<ol type="1">
<li><code>HOSTNAME</code>: IP address of MongoDB server, e.g., 127.0.0.1 (i.e., localhost).</li>
<li><code>PORT</code>: Port of MongoDB server, e.g., 27017 by the default.</li>
<li><code>SpatialDBName</code>: Name of the main spatial database of the study area created in MongoDB server (Figure 2:3 3). The name <b>MUST</b> be the same with the folder name of <code>MODEL_DIR</code>.</li>
<li><code>ClimateDBName</code>: Name of the hydro-climate database created in MongoDB server (Figure 2:3 3).</li>
<li><code>BMPScenarioDBName</code>: Name of the BMP scenarios database created in MongoDB server (Figure 2:3 3).</li>
</ol>
</li>
<li><code>CLIMATE</code>: Filenames of climate data located in <code>CLIMATE_DATA_DIR</code>.<ol type="1">
<li><code>HydroClimateVarFile</code>: Types and Units of climate data variables (Section 2:2.4).</li>
<li><code>MeteoSiteFile</code>: The spatial information of meteorological station (Section 2:2.4).</li>
<li><code>PrecSiteFile</code>: The spatial information of precipitation station (Section 2:2.3.1)</li>
<li><code>MeteoDataFile</code>: The meteorological data (Section 2:2.4).</li>
<li><code>PrecDataFile</code>: The precipitation data (Section 2:2.3.2).</li>
<li><code>thiessenIdField</code>: (Optional) The field ID in the Thiessen polygon files of climate sites (Section 2:2.2), the default is <code>ID</code>.</li>
</ol>
</li>
<li><code>SPATIAL</code>: Filenames of spatial data located in SPATIAL_DATA_DIR and TXT_DB_DIR.<ol type="1">
<li><code>dem</code>: The original DEM data.</li>
<li><code>outlet_file</code>: (Optional) The outlet of the study area.</li>
<li><code>PrecSitesThiessen</code>: The Thiessen polygon file of precipitation stations.</li>
<li><code>MeteoSitesThiessen</code>: The Thiessen polygon file of meteorological stations.</li>
<li><code>landuseFile</code>: The raster file of landuse types.</li>
<li><code>landcoverInitFile</code>: The lookup table of initial landcover parameters (Section 2:2.6.2).</li>
<li><code>soilSEQNFile</code>: The raster file of soil sequences.</li>
<li><code>soilSEQNText</code>: The lookup table of soil properties (Section 2:2.6.1).</li>
<li><code>field_partition_thresh</code>: (Optional) Threshold values for the delineation of hydrologically connected fields (Wu et al., 2018). Multiple thresholds can be specified such as <code>10,15,20</code>. The partitioned fields named <code>fields_&lt;threshold&gt;.tif</code> (e.g., <code>fields_15.tif</code>) will be imported into the main spatial database (i.e., SpatialDBName). In the meantime, a json formatted file named <code>connected_field_units_updown_&lt;threshold&gt;.json</code> will be generated in the <code>MODEL_DIR</code>, which describes the upstream and downstream relationships of fields and landuse information, etc. The hydrologically connected fields can be used as BMP configuration units for BMP scenarios analysis (see Section 2:8).</li>
</ol>
</li>
<li><code>OPTIONAL_PARAMETERS</code>: Optional parameters.<ol type="1">
<li><code>D8AccThreshold</code>: Flow accumulation threshold for stream and subbasin delineation, the default is 0. In such circumstance, the determination of threshold will be performed by the drop analysis function of TauDEM automatically.</li>
<li><code>np</code>: Number of processes for MPI-based parallel computing of C++ applications, e.g., TauDEM functions. The default is 4.</li>
<li><code>D8DownMethod</code>: Calculation method of distance down to a stream, the available values are pythagoras, horizontal, vertical, and surface, or p, h, v, and s for simplification, respectively. The default is surface or s. More information can be referred to <a href="http://hydrology.usu.edu/taudem/taudem5/help53/DInfinityDistanceDown.html">http://hydrology.usu.edu/taudem/taudem5/help53/DInfinityDistanceDown.html</a>.</li>
<li><code>dorm_hr</code>: Day length threshold hours for dormancy, the default is -1.</li>
<li><code>T_base</code>: Base temperature (degC) for heat unit calculation, the default is 0.</li>
<li><code>imperviousPercInUrbanCell</code>: Impervious percent in urban units, the default is 0.3.</li>
<li><code>defaultLanduse</code>: The default landuse type for NoData area which <b>MUST</b> exist in the prepared <code>landcoverInitFile</code>.</li>
<li><code>defaultSoil</code>: The default soil sequence type for NoData area which <b>MUST</b> exist in the prepared <code>soilSEQNFile</code>.</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md27"></a>
Advanced usage</h1>
<p >The Python scripts of data preprocessing are in <code>SEIMS/seims/preprocess</code>. The prefix of script names are distinguished by functionality, i.e., <code>sd_</code> for the spatial discretization of watershed (e.g., the delineation of subbasins), <code>sp_</code> for the extraction of spatial parameters (e.g., landuse and soil related parameters according to the database of SWAT model and additional lookup tables, Section 2:2.6), <code>hydro_</code> for the data processing of hydrology and climate data, and <code>db_</code> for the input and/or output of MongoDB database. The <code>main.py</code> is the entrance for the entire workflow of data preprocessing. Each script can be executed independently though the unified format: <code>python &lt;script_name&gt; -ini &lt;/path/to/configuration-file&gt;</code>. For example, to run the entire workflow: </p><div class="fragment"><div class="line">cd D:\demo\SEIMS\seims\preprocess</div>
<div class="line">python main.py -ini D:\demo\SEIMS\data\youwuzhen\workspace\preprocess.ini</div>
</div><!-- fragment --><p >If the BMP scenarios related data needs to be updated, there is only needed to run the script of importing BMP scenarios data into MongoDB: </p><div class="fragment"><div class="line">cd D:\demo\SEIMS\seims\preprocess</div>
<div class="line">python db_import_bmpscenario.py -ini D:\demo\SEIMS\data\youwuzhen\workspace\preprocess.ini</div>
</div><!-- fragment --><p >The entire workflow of preprocessing can be conducted in two main steps, i.e., the spatial discretization of watershed (i.e., <code>sd_delineation.py</code>) and the creation of MongoDB database (i.e., <code>db_build_mongodb.py</code>). Users are highly recommended to execute <code>sd_delineation.py</code> with the <code>D8AccThreshold</code> set to 0 first to get a preliminary delineation of subbasins. The automatically delineated subbasin may too fine to get a proper spatial scale for watershed modeling. Therefore, users may want to adjust the proper threshold manually according to the flow accumulated raster (i.e., <code>SEIMS\data\youwuzhen\workspace\taudem_delineated\accTauD8WithWeight.tif</code>, more information about the intermediate data will be described in the following section). After a final threshold is determined and the value of <code>D8AccThreshold</code> in the configuration file updated, the <code>main.py</code> should be reran for the entire preprocessing.</p>
<p >Note that the present implementation of data preprocessing tools is to support the currently available SEIMS modules of watershed processes. That means, if the input data of a newly developed module is not available from the database or outputs of other modules, the corresponding preprocessing tools should be added. For more information, please referred to the “Section 4:1 Develop a new module of one watershed process”.</p>
<h1><a class="anchor" id="autotoc_md28"></a>
Intermediate data of preprocessing</h1>
<p >As is shown in Figure 2, the intermediate data of data preprocessing are organized into seven folders.</p>
<ul>
<li><code>taudem_delineated</code>: The original results and intermediate data of spatial delineation of subbasins based on TauDEM such as the flow accumulation data (<code>accTauD8WithWeight.tif</code>), the delineated subbasin data (<code>subbasinTauM.tif</code>), and the D8 flow direction masked by subbasinTauM.tif (<code>flowDirTauM.tif</code>), etc.</li>
<li><code>lookup_tables</code>: Lookup tables of landuse database based on the SWAT model used for generating landuse type related parameters. <blockquote class="doxtable">
<p >TODO: In the current version of SEIMS, landuse and soil type related spatial parameters (raster data) are prepared and imported into MongoDB separately as single files (i.e., GridFS in MongoDB). This solution will lead to the low performance of reading data of SEIMS main program. Therefore, in the future version, lookup tables should be used instead of separated raster- or array-based parameters. </p>
</blockquote>
+ <code>spatial_raster</code>: All spatial parameters (raster data) masked by the delineated watershed boundary (i.e., <code>subbasinTauM.tif</code>).</li>
<li><code>spatial_shp</code>: Spatial vector data for the whole watershed and each subbasin, e.g., <code>reach_&lt;N&gt;.shp</code> (<code>N</code> represents the subbasin number starts from 1, while <code>reach.shp</code> is for the whole watershed), <code>subbasin_&lt;N&gt;.shp</code>, <code>basin.shp</code>, and <code>outlet.shp</code>.</li>
<li><code>layering_info</code>: The flow in and out indexes of each basic simulation units (e.g., gridded cells and irregularly shaped fields), and the routing layers of <code>UPDOWN</code> (default, layering from source) and <code>DOWNUP</code> (layering from outlet) methods based on flow direction algorithms.</li>
<li><code>metis_output</code>: Groups partitioned by <code>METIS</code> software for static task scheduling of MPI-based parallel computing at subbasin levels. For example, the results of <code>metis.part.4</code> located in <code>SEIMS\data\youwuzhen\workspace\metis_output\kmetis</code> is <code>3 0 2 1 1 3 1 3 2 0 2 0 2 1 1 1 3</code>, which means that the 17 subbasins of the Youwuzhen watershed will be distributed on four processes, i.e., subbasin IDs of (2, 10, 12), (4, 5, 7, 14, 15, 16), (3, 9, 11, 13), and (1, 6, 8, 17).</li>
<li><code>runtime_log</code>: Runtime logs (with prefix of <code>status_</code>) and several input configuration files of SEIMS C++ applications (with prefix of <code>config_</code>).</li>
</ul>
<h1><a class="anchor" id="autotoc_md29"></a>
Structure of the watershed modeling database</h1>
<p >The screenshot of the structure of the watershed modeling database was shown in Figure 2:3 3. Three databases were created with the specific names in the configuration <code>INI</code> file of data preprocessing (Section 2:3.2). The preprocessed data were organized as different collections (or referred to as tables) within database.</p><ul>
<li><code>demo_youwuzhen30m_longterm_model</code>: Main spatial database of the study area<ol type="1">
<li>Model configuration collections, such as <code>FILE_IN</code> and <code>FILE_OUT</code>.</li>
<li>Initial model parameters including calibration information, i.e., <code>PARAMETERS</code>.</li>
<li>Reach related parameters, i.e., <code>REACHES</code>, including geometric parameters, default chemical parameters, and subbasin groups for task scheduling of MPI-based parallel computing, etc.</li>
<li>Climate station information for each subbasin with the corresponding HydroClimate database name, i.e., <code>SITELIST</code>.</li>
<li>BMP scenario database name, i.e., <code>BMPDATABASE</code>.</li>
<li>Spatial parameters, i.e., <code>SPATIAL</code>.</li>
<li>Lookup tables, i.e., <code>CROPLOOKUP</code>, <code>FERTILIZERLOOKUP</code>, <code>LANDUSELOOKUP</code>, <code>SOILLOOKUP</code>, <code>TILLAGELOOKUP</code>, and <code>URBANLOOKUP</code>.</li>
</ol>
</li>
<li><code>demo_youwuzhen30m_HydroClimate</code>: Hydro-climate database<ol type="1">
<li>Climate and hydrology stations, i.e., <code>SITES</code>.</li>
<li>Climate data (<code>DATA_VALUES</code>) and hydrologic monitoring data (<code>MEASUREMENT</code>).</li>
<li>Annual statistics of climate data, i.e., <code>ANNUAL_STATS</code>.</li>
<li>Types and units of hydro-climate variables, i.e., <code>VARIABLES</code>.</li>
</ol>
</li>
<li><code>demo_youwuzhen30m_Scenario</code>: BMPs scenario database<ol type="1">
<li>BMP IDs, i.e., <code>BMP_INDEX</code>.</li>
<li>BMP scenarios, i.e., <code>BMP_SCENARIOS</code>.</li>
<li>Various BMPs parameters, the collection names are dependent on the plain text filename located in management practices data (e.g., <code>SEIMS\data\youwuzhen\data_prepare\scenario</code>), such as <code>PLANT_MANAGEMENT</code> and <code>AREAL_STRUCT_MANAGEMENT</code> in this demo study.</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md30"></a>
See more...</h1>
<p >Also see introduction of the Python package <a class="el" href="intro_preprocess_pkg.html">seims.preprocess package</a></p>
<p >AutoFuzSlpPos Python package: <a class="el" href="intro_autofuzslppos_pkg.html">seims.preprocess.autofuzslppos package</a></p>
<p >Predefined database: <a class="el" href="intro_predefined_database.html">Predefined database</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
</body>
</html>
